#include <bits/stdc++.h>

using namespace std;
#define X first
#define Y second

int N,M,sum1;
int mx = 0;
int board[505][505];
pair<int,int> tetro[19][4] = 
{
    {{0,0},{0,1},{0,2},{0,3}},
    {{0,0},{1,0},{2,0},{3,0}},

    {{0,0},{0,1},{1,0},{1,1}},

    {{0,0},{1,0},{2,0},{2,1}},
    {{0,0},{0,1},{0,2},{1,0}}, 
    {{0,0},{0,1},{1,1},{2,1}},
    {{0,2},{1,0},{1,1},{1,2}},
    {{0,0},{1,0},{1,1},{1,2}},
    {{0,0},{0,1},{0,2},{1,2}}, 
    {{2,0},{0,1},{1,1},{2,1}},
    {{0,0},{1,0},{2,0},{0,1}},

    
    {{0,0},{1,0},{1,1},{2,1}},
    {{0,1},{0,2},{1,0},{1,1}},
    {{0,0},{0,1},{1,1},{1,2}},
    {{0,1},{1,0},{1,1},{2,0}},

    {{0,0},{0,1},{0,2},{1,1}},
    {{0,1},{1,1},{2,1},{1,0}},
    {{0,1},{1,0},{1,1},{1,2}},
    {{0,0},{1,0},{1,1},{2,0}}
};
int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
    cin >> N >> M;
    for(int i=0; i<N; i++){
        for(int j=0; j<M; j++){
            cin >> board[i][j];
        }
    }
    for(int i=0; i<N; i++){
        for(int k=0; k<M; k++){
            for(int s=0; s<19; s++){
                sum1 = 0;
                for(int j=0; j<4; j++){
                    sum1 += board[i+tetro[s][j].X][k+tetro[s][j].Y];
                }
                mx = max(mx, sum1);
            }
        }
    }
    cout << mx;
    return 0;
}